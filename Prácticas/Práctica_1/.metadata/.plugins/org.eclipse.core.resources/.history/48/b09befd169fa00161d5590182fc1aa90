/**
 * 
 */
package observador;

/**
 * @author Jose-laptop
 *
 */
public class Pantalla implements Observador {
	
	private float temperatura;
	private boolean celsius;
	
	/**
	 * Variables de GUI
	 */
	private javax.swing.ButtonGroup bg_temperatura;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JLabel jl_temperatura;
    private javax.swing.JRadioButton jrb_celsius;
    private javax.swing.JRadioButton jrb_farhrenheit;
	
	public Pantalla(){
		temperatura = 0;
		celsius = true;
	}

	/**
	 * Recibe una nueva temperatura en Celsius.
	 */
	@Override
	public void manejarEvento(Object valor) {
		temperatura = (Integer) valor;
		celsius = true;
		System.out.println("Temperatura actual= "+temperatura+ "º");
		
		toFahrenheit();
		System.out.println("Temperatura actual= "+temperatura+ "Fº");

	}
	
	private void toFahrenheit(){
		if(celsius)
			temperatura = 32 + ( temperatura * 9 / 5);
		
		celsius = false;
	}
	
	private void toCelsius(){
		if(!celsius)
			temperatura = (temperatura - 32 ) * (5 / 9.0f);
		
		celsius = true;
	}
	
	/**
	 * Métodos de la interfaz Gráfica
	 */
	private void initComponents() {

        bg_temperatura = new javax.swing.ButtonGroup();
        jPanel1 = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        jl_temperatura = new javax.swing.JLabel();
        jrb_celsius = new javax.swing.JRadioButton();
        jrb_farhrenheit = new javax.swing.JRadioButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Meteo");
        getContentPane().setLayout(new java.awt.GridLayout(4, 0));

        jLabel2.setText("Temperatura:");
        jPanel1.add(jLabel2);

        jl_temperatura.setText("20 º");
        jPanel1.add(jl_temperatura);

        bg_temperatura.add(jrb_celsius);
        jrb_celsius.setSelected(true);
        jrb_celsius.setText("Celsius");
        jrb_celsius.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jrb_celsiusItemStateChanged(evt);
            }
        });
        jPanel1.add(jrb_celsius);

        bg_temperatura.add(jrb_farhrenheit);
        jrb_farhrenheit.setText("fahrenheit");
        jrb_farhrenheit.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jrb_farhrenheitItemStateChanged(evt);
            }
        });

        jPanel1.add(jrb_farhrenheit);

        getContentPane().add(jPanel1);

        pack();
    }
	
	private void jrb_celsiusItemStateChanged(java.awt.event.ItemEvent evt) {                                             
        // Evento de boton celsiui
    }                                            

    private void jrb_farhrenheitItemStateChanged(java.awt.event.ItemEvent evt) {                                                 
        // Evento de boton farhrenheit
    } 

}
